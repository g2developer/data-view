/**
 * data-view.20190727.min.js
 * ISCÂ license
 * Copyright (c) 2018 data-view (http://dataview.tistory.com)
 */
var ATTR_DATA_VIEW="data-view",ATTR_DATA_LIST="data-list",ATTR_NO_DATA_VIEW="no-data-view";function DataView(t){this.items=[],this._initializing=!1,this._changing=!1,this.initialized=!1,this.createGlobalItems=!0,this.referenceData=!1,this.customTagUrls=[],this.config(t)}function DataViewItem(t){for(var e in t)this[e]=t[e]}function escapeToNormalChar(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function clone(t){if(!t)return t;if(Array.isArray(t)){for(var e=[],a=0;a<t.length;a++)e[a]=t[a];return e}return t}function _dvinit(t){if(document.body&&!dataview._initializing&&!dataview.initialized){var e=document.querySelector("script[src*='data-view']").getAttribute("src"),a=(e.indexOf("no-init"),{});if(-1!=e.indexOf("?")){var i=e.substring(e.indexOf("?")+1);if(0<i.length){a={};for(var r=i.split("&"),n=null,s=0;s<r.length;s++)2==(n=r[s].split("=")).length&&(a[n[0]]=n[1])}}dataview.config(a),dataview.initDataView(),document.removeEventListener("DOMNodeInserted",_dvinit),document.removeEventListener("DOMContentLoaded",_dvinit)}}function el(){if(!arguments||0===arguments.length||!arguments[0])throw new Error("function el() arguments is required");var t=Array.prototype.slice.call(arguments),e=t[0];if(1===t.length)return e.querySelectorAll?e:document.querySelectorAll(e);var a=t[t.length-1];return e=t.slice(0,t.length-1).join(","),a.querySelectorAll?a.querySelectorAll(e):-1!=a.indexOf("<")?(a=(new DOMParser).parseFromString(a,"text/html")).querySelectorAll(e):(e=t.join(","),document.querySelectorAll(e))}function isObj(t){return"object"==typeof t}DataView.prototype.config=function(t){return t&&(t.attr&&(ATTR_DATA_VIEW=t.attr),t.listAttr&&(ATTR_DATA_LIST=t.listAttr),t.noDataAttr&&(ATTR_NO_DATA_VIEW=t.noDataAttr),this.createGlobalItems=!t.hasOwnProperty("createGlobalItems")||t.createGlobalItems,this.referenceData=!!t.hasOwnProperty("referenceData")&&t.referenceData),this},DataView.prototype.initDataView=function(t){this._initializing=!0;for(var e=this.items.length-1;0<=e;e--)this.items[e].scope==t&&this.items.pop();var a=this.findDataViewList(t),i=this.addDataViewList(a,t);for(e=0;e<i.length;e++)i[e].type==ATTR_DATA_VIEW?this.change(i[e].id,{}):this.change(i[e].id,[]);this._initializing=!1,this.initialized=!0},DataView.prototype.initCustomTags=function(t){if(this.customTagUrls=t,0<this.customTagUrls.length)for(var e=null,a=0;a<this.customTagUrls.length;a++)e=this.customTagUrls[a],this.addDataViewByUrl(e.url,e.tagName,e.data)},DataView.prototype.findDataViewList=function(t){return t=t||document,el("["+ATTR_DATA_VIEW+"], ["+ATTR_DATA_LIST+"]",t)},DataView.prototype.addDataViewList=function(targetList,scope){if(targetList){for(var dvId,dvType,dvItem=null,newArr=[],i=0;i<targetList.length;i++)if(dvId=this.getDataViewId(targetList[i]),dvType=targetList[i].getAttribute(ATTR_DATA_VIEW)?ATTR_DATA_VIEW:ATTR_DATA_LIST,dvId){var selector=null;targetList[i].getAttribute(ATTR_DATA_VIEW)?selector="["+ATTR_DATA_VIEW+"="+dvId+"]":targetList[i].getAttribute(ATTR_DATA_LIST)?selector="["+ATTR_DATA_LIST+"="+dvId+"]":targetList[i].getAttribute("id")&&(selector="#"+dvId);var noDvElement=el("["+ATTR_NO_DATA_VIEW+"="+dvId+"]"),noDvElementHTML=noDvElement[0]?noDvElement[0].outerHTML:"";dvItem=new DataViewItem({id:dvId,type:dvType,selector:selector,template:targetList[i].outerHTML,elements:targetList[i],parent:targetList[i].parentNode,noDataView:noDvElement,noDataViewHTML:noDvElementHTML,scope:scope,isBind:!0}),dvItem.normalVarKeys=this.getNormalVarKeysOnly(dvItem.template);for(var j=0;j<this.items.length;j++)this.items[j].id==dvItem.id&&(this.items[j]=dvItem);newArr.push(dvItem),this[dvId]||(this[dvId]=dvItem),this.createGlobalItems&&(window[dvId]&&window[dvId].constructor!=DataViewItem?console.warn("DataViewItem name '"+dvId+"' is already defined variable or tag id attribute."):eval(dvId+"=dvItem;"),this[dvId]=dvItem)}else console.error("[dataview] Not found data-view attribute value or tag id");if(0<newArr.length)for(var i=0;i<newArr.length;i++)-1==this.items.indexOf(newArr[i])&&this.items.push(newArr[i]);return newArr}},DataView.prototype.getDataViewId=function(t){return t.getAttribute(ATTR_DATA_VIEW)||t.getAttribute(ATTR_DATA_LIST)||t.getAttribute("id")},DataView.prototype.getDataViewItem=function(t){if(t){for(var e=null,a=0;a<this.items.length;a++)if(this.items[a].id==t){(e=this.items[a]).elements=this.getDataViewElements(e),e.parent=e.elements[0].parentNode;var i=el("["+ATTR_NO_DATA_VIEW+"="+e.id+"]"),r=i[0]?i[0].outerHTML:"";e.noDataView=i,e.noDataViewHTML=r;break}if(e)return e;console.error("[dataview] not found dataview item : "+t)}else console.error("[dataview] dataViewId is required parameter getDataViewItem function : "+t)},DataView.prototype.get=function(t){return this.getDataViewItem(t)},DataView.prototype.getDataViewSelector=function(t){return this.getDataViewItem(t).selector},DataView.prototype.getDataViewElements=function(t){var e=el(t.selector,t.parent);return e&&0!=e.length||((e=el(t.selector))||0<e.length)&&(t.parent=e.parentNode),e},DataView.prototype.getDataViewHtml=function(t,e){var a=this.getDataViewItem(t);if(!a)return"";var i=a.template;return this.mergeHtmlData(i,e)},DataView.prototype.getDataViewListHtml=function(t,e){var a=this.getDataViewItem(t);if(!a||!e)return"";for(var i=a.template,r="",n=0;n<e.length;n++)r+=this.mergeHtmlData(i,e[n]);return r},DataView.prototype.mergeHtmlData=function(t,e){if(!e||!t)return"";for(var a=this.getSyntaxList(t)||[],i="",r=0;r<a.length;r++)i=this.mergeData(a[r],e),t=t.replace(a[r],i);return t=this.mergeIfStateHtmlData(t,e)},DataView.prototype.mergeData=function(tmp,data){var o=tmp;tmp=escapeToNormalChar(tmp),tmp=this.mergeGlobal(tmp),tmp=this.mergeNormalVar(tmp,data);try{tmp=eval(tmp)}catch(t){tmp=""}return null!=tmp&&null!=tmp&&"null"!=tmp&&"undefined"!=tmp||(tmp=""),tmp},DataView.prototype.getSyntaxList=function(t){return t.match(/\{\{[^\{\{\}\}]*\}\}/g)},DataView.prototype.getNormalVarKey=function(t){var e=t;return(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\'[^\']*\'/g,"")).replace(/\"[^\"]*\"/g,"")).replace(/^\w\d*\.?\d*/g,"")).replace(/^-\w\d*\.?\d*/g,"")).replace(/\w+(\.\w+)* *\(/g,"")).replace(/null/g,"")).replace(/true/g,"")).replace(/false/g,"")).replace(/undefined/g,"")).match(/[a-zA-Z_$]+\w*([\[0-9]+\])*(\.[a-zA-Z_$]+\w*([\[0-9]+\])*)*/g)},DataView.prototype.getNormalVarKeysOnly=function(t){var e=(this.getSyntaxList(t)||[]).join();e=e.replace(/@[A-z]\w*(\.\w+)*/g,"");var a=this.getNormalVarKey(e);if(!a||0==a.length)return[];for(var i=[],r=0;r<a.length;r++)-1==i.indexOf(a[r])&&i.push(a[r]);return i},DataView.prototype.mergeNormalVar=function(t,e){var a=this.getNormalVarKey(t);if(null==a)return t;for(var i=0;i<a.length;i++){var r=this.getDataOfKey(e,a[i]);isNaN(r)&&"string"==typeof r&&(r="'"+r+"'"),t=t.replace(a[i],r)}return t},DataView.prototype.mergeGlobal=function(html){var rg=/@[A-z]\w*(\.\w+)*/g,match=html.match(rg);if(null==match)return html;for(var i=0;i<match.length;i++){var gVar=match[i],value=eval(gVar.substr(1));value&&"string"==typeof value&&"null"!=value&&"undefined"!=value&&(value="'"+value+"'"),html=html.replace(new RegExp(gVar,"g"),value)}return html},DataView.prototype.mergeIfStateHtmlData=function(t,e){for(var a=/\{\s*(\s*\(.+\)\s*\{\s*([^\}]*\s*)*\}\s*)+(.*\{\s*([^\}]*\s*)*\}\s*)*\}/g;a.test(t);){for(var i=t.match(a)[0],r=i.match(/\{\s*[^\{\}]+\s*\}/g),n=i.match(/\{\s*\([^\(\)]*\)\s*\{|\}\s*\([^\(\)]*\)\s*\{/g),s="",o=0;o<n.length;o++){var l=n[o].replace(/\{|\}/g,"");if(this.mergeData(l,e)){s=r[o];break}}!s&&r.length>n.length&&(s=r[r.length-1]),s=s&&s.substring(1,s.length-2),t=t.replace(i,s)}return t},DataView.prototype.getDataOfKey=function(t,e){var a=this.getLiteral(e);if(null==a||null==a){var i=(e=e.replace(/ /g,"")).match(/[\w$]+/g);if(i&&2<=i.length){var r=t;try{for(var n=0;n<i.length;n++)r=r[i[n]]}catch(t){r=""}a=r}else a=t[e]}return a},DataView.prototype.getLiteral=function(t){if(!t)return t;var e="";if(/ *\'.*\' */.test(t))e=t.substring(t.indexOf("'")+1,t.lastIndexOf("'"));else if(/ *\".*\" */.test(t))e=t.substring(t.indexOf('"')+1,t.lastIndexOf('"'));else{if(isNaN(t)&&1!=t&&0!=t)return null;e=t}return e},DataView.prototype.getNotLiteralArr=function(t){for(var e=t.replace(/\'[^\']*\'/g," ").replace(/\"[^\"]*\"/g," ").match(/\w+(\.\w+)*/g)||[],a=e.length;0<=a;a--)isNaN(e[a])&&"true"!=e[a]&&"false"!=e[a]?-1!=["amp","lt","gt","typeof","instanceof"].indexOf(e[a])&&e.splice(a,1):e.splice(a,1);return e},DataView.prototype.showNoDataView=function(t){var e=el("["+ATTR_NO_DATA_VIEW+"="+t.id+"]");e&&0!=e.length&&(e=e[0],t.data&&0!=t.data.length?e&&(e.style.display="none"):e.outerHTML?e.style.display="block":t.noDataViewHTML&&t.parent&&0<t.parent.length&&t.parent.appendChilde(this._createElements(t.noDataViewHTML)))},DataView.prototype.change=function(t,e){var a=this.getDataViewItem(t),i=a.elements;if(this._changing=a._changing=!0,this.referenceData||(e=clone(e)),a.type==ATTR_DATA_LIST)if(e)a.data=Array.isArray(e)?e:[e];else if(this.referenceData)for(var r=a.data.length-1;0<=r;r--)a.data.pop();else a.data=e;else a.data=e;var n="";if(n=a.type==ATTR_DATA_LIST?this.getDataViewListHtml(t,e):this.getDataViewHtml(t,e),1<i.length)for(r=i.length-1;0<r;r--)i[r].outerHTML="";n&&""!=n?i[0].outerHTML=n:(a.hide(),i[0].innerHTML=""),a.elements=this.getDataViewElements(a),this.showNoDataView(a),this._changing=a._changing=!1},DataView.prototype.refresh=function(t,e){var a=this.getDataViewItem(t),i=a.elements;this._changing=a._changing=!0;var r="";if(r=a.type==ATTR_DATA_LIST?this.getDataViewListHtml(t,a.data):this.getDataViewHtml(t,a.data),1<i.length)for(var n=i.length-1;0<n;n--)i[n].outerHTML="";r&&""!=r?i[0].outerHTML=r:(a.hide(),i[0].innerHTML=""),a.elements=this.getDataViewElements(a),this.showNoDataView(a),this._changing=a._changing=!1},DataView.prototype.append=function(t,e){if(e){var a=this.getDataViewItem(t),i=a.elements;if(this._changing=a._changing=!0,!a.isBind)if(a.data)if(Array.isArray(a.data))if(Array.isArray(e))for(var r=0;r<e.length;r++)a.data.push(e[r]);else a.data.push(e);else if(Array.isArray(e)){var n=clone(e);n.unshift(a.data),a.data=n}else a.data=[a.data,e];else a.data=this.referenceData?e:clone(e);var s="";s=Array.isArray(e)?this.getDataViewListHtml(t,e):this.getDataViewHtml(t,e||{});var o=i[i.length-1],l=this._createElements(s);o.parentNode.insertBefore(l,o.nextSibling);var h=i[0];"none"==h.style.display&&(h.outerHTML=""),a.elements=this.getDataViewElements(a),this.showNoDataView(a),this._changing=a._changing=!1}},DataView.prototype.prepend=function(t,e){if(e){var a=this.getDataViewItem(t),i=a.elements;if(this._changing=a._changing=!0,!a.isBind)if(a.data)if(Array.isArray(a.data))if(Array.isArray(e))for(var r=0;r<e.length;r++)a.data.unshift(e[r]);else a.data.unshift(e);else if(Array.isArray(e)){var n=clone(e);n.push(a.data),a.data=n}else a.data=[e,a.data];else a.data=this.referenceData?e:clone(e);var s="";s=Array.isArray(e)?this.getDataViewListHtml(t,e):this.getDataViewHtml(t,e||{});var o=i[0],l=this._createElements(s);o.parentNode.insertBefore(l,o);var h=i[i.length-1];"none"==h.style.display&&(h.outerHTML=""),a.elements=this.getDataViewElements(a),this.showNoDataView(a),this._changing=a._changing=!1}},DataView.prototype.update=function(t,e,a){var i=this.getDataViewItem(t);if(this._changing=i._changing=!0,!i.data||i.data.length<e)this._changing=i._changing=!1;else{var r=this.getDataViewElements(i)[e];if("none"!=r.style.display){i.isBind||(i.data[e]=a);var n=this.getDataViewHtml(t,a||{});r.outerHTML=n,i.elements=this.getDataViewElements(i),this._changing=i._changing=!1}else this._changing=i._changing=!1}},DataView.prototype.remove=function(t,e){var a=this.getDataViewItem(t);if(this._changing=a._changing=!0,!a.data||a.data.length<e)this._changing=a._changing=!1;else{var i=a.elements[e];i&&"none"!=i.style.display&&(a.isBind||a.data.splice(e,1),1<this.getDataViewElements(a).length?i.outerHTML="":(i.style.display="none",i.innerHTML=""),a.elements=this.getDataViewElements(a),this.showNoDataView(a)),this._changing=a._changing=!1}},DataView.prototype.blank=function(t){this._changing=!0;var e=this.getDataViewItem(t),a={};if((e.type==ATTR_DATA_LIST||Array.isArray(e.data))&&e.data){for(var i=0;i<e.data.length;i++)e.data[i]={};a=e.data}this.change(t,a),this._changing=!1},DataView.prototype.clear=function(t){this.change(t,null)},DataView.prototype.addDataViewByUrl=function(t,r,n){http.get(t,function(t){this._changing=!0;for(var e=el(r),a=0;a<e.length;a++)e[a].innerHTML=t;var i=dataview.addDataViewList(e);for(a=0;a<i.length;a++)i[a].type==ATTR_DATA_VIEW?dataview.change(i[a].id,n||{}):dataview.change(i[a].id,n||[]);this._changing=!1})},DataView.prototype.refindParent=function(t){for(var e=0;e<t.length;e++){var a=this.getDataViewId(t[e]);if(a)for(var i=0;i<this.items.length;i++)this.items[i].id==a&&(this.items[i].parent=el(t[e]).parentNode)}},DataView.prototype.objToForm=function(t,e){var a=this.getDataViewSelector(t),i=document.querySelector(a),r=null;for(var n in e)if(e[n]&&(r=i.querySelector("[name="+n+"]")))if("radio"==r.type)try{i.querySelector("[name="+n+"][value="+e[n]+"]").checked=!0}catch(t){}else if("checkbox"==r.type){(o=Array.isArray(e[n])?e[n]:null)||"string"!=typeof e[n]||(o=e[n].split(","));for(var s=0;s<o.length;s++)try{(r=i.querySelector("[name="+n+"][value="+o[s]+"]"))&&(r.checked=!0)}catch(t){}}else if("select-multiple"==r.type){var o;(o=Array.isArray(e[n])?e[n]:null)||"string"!=typeof e[n]||(o=e[n].split(","));for(s=0;s<r.options.length;s++)try{var l=r.options[s].value||r.options[j].text;-1!=o.indexOf(l)&&(r.options[s].selected=!0)}catch(t){}}else try{r.value=e[n]}catch(t){}},DataView.prototype.formToObj=function(t){for(var e=this.getDataViewSelector(t),a=document.querySelector(e),i=a.querySelectorAll("input:enabled:not([type=button]):not([type=submit]):not([type=image]),select:enabled,textarea:enabled"),r={},n=0;n<i.length;n++)if(i[n].name){var s=i[n].name,o=i[n].value;if("radio"==i[n].type)i[n].checked&&(r[s]=o);else if("checkbox"==i[n].type)i[n].checked&&(r[s]?Array.isArray(r[i[n].name])?r[s].push(o):r[s]=[r[s],o]:1<a.querySelectorAll("input[name="+i[n].name+"]").length?r[s]=[o]:r[s]=o);else if("select-multiple"==i[n].type){r[s]=[];for(var l=0;l<i[n].options.length;l++)i[n].options[l].selected&&(o=i[n].options[l].value||i[n].options[l].text,r[s].push(o))}else r[s]=o}return r},DataView.prototype.clearForm=function(t){for(var e=this.getDataViewSelector(t),a=document.querySelector(e).querySelectorAll("input:enabled:not([type=button]):not([type=submit]):not([type=image]),select:enabled,textarea:enabled"),i=0;i<a.length;i++)a[i].name&&("radio"==a[i].type||"checkbox"==a[i].type?a[i].checked=!1:"color"==a[i].type?a[i].value="#000000":"select-one"==a[i].type?a[i].selectedIndex=0:a[i].value="")},DataView.prototype.form=function(t,e){return e?void this.objToForm(t,e):this.formToObj(t)},DataView.prototype._getDOMParser=function(){return this._domParser||(this._domParser=new DOMParser),this._domParser},DataView.prototype._createElements=function(t){return document.createRange().createContextualFragment(t)},DataView.prototype.addOnBindModel=function(t,e,a){t.bindArr=e,t.modelChangeListeners=[],a&&-1==t.modelChangeListeners.indexOf(a)&&t.modelChangeListeners.push(a),t.dispatch=function(t){for(var e=0;e<this.modelChangeListeners.length;e++)this.modelChangeListeners[e].refresh(t)}},DataView.prototype.addOnBindChangeListener=function(t,e){t.refresh=e},DataView.prototype.isBindEqual=function(t,e,a){return!(!t.bindArr||!t.bindArr.every(function(t){return-1!=e.indexOf(t)})||!t.modelChangeListeners||-1==t.modelChangeListeners.indexOf(a))},DataView.prototype.bind=function(t,e,a){if(t&&!this.isBindEqual(t,e,a)&&!Array.isArray(t)){this.addOnBindModel(t,e,a),this.addOnBindChangeListener(t,function(t){var e={type:"object",key:(this.__k__?this.__k__+".":"")+t.key,model:this,child:t};this.dispatch(e)}),t.findSubBindkeyArr=function(e){for(var t=this.bindArr.filter(function(t){return t!=e&&t.startsWith(e)}),a=0;a<t.length;a++)t[a]=t[a].replace(e,""),0==t[a].indexOf(".")&&(t[a]=t[a].replace(".",""));return t};for(var i=0;i<e.length;i++)for(var r=e[i].match(/\w+/g),n=t,s=0;s<r.length&&n;s++){var o=r[s],l=n[o];l&&"object"==typeof l&&(l.__p__=n,l.__k__=o,l.__c__=t.findSubBindkeyArr(o),Array.isArray(l)?n[o]=this.bindList(l,l.__c__,l.__p__):this.bind(l,l.__c__,l.__p__)),Array.isArray(n)||this.createSetAndGet(n,o),n=n[o]}}},DataView.prototype.createSetAndGet=function(a,i){!a||Object.getOwnPropertyDescriptor(a,i)&&Object.getOwnPropertyDescriptor(a,i).set||(a["_"+i]=a[i],Object.defineProperty(a,i,{set:function(t){a["_"+i]=t;var e=a.findSubBindkeyArr(i);"object"==typeof a["_"+i]&&e&&0<e.length&&(Array.isArray(a["_"+i])?a["_"+i]=dataview.bindList(a["_"+i],e,a):dataview.bind(a["_"+i],e,a)),this.dispatch({type:"object",key:this.__k__?this.__k__+"."+i:i,data:t,model:a})},get:function(){return a["_"+i]}}))},DataView.prototype.bindList=function(arr,bindArr,listener){if(!arr||this.isBindEqual(arr,bindArr,listener))return arr;arr.__isProxy__&&Array.isArray(arr)&&(arr=arr.__target__),this.addOnBindModel(arr,bindArr,listener),this.addOnBindChangeListener(arr,function(t){var e=this.indexOf(t.model),a={type:"update",data:this[e],index:e,model:this,child:t};a.key=(this.__k__||"")+"."+e+"."+t.key,this.dispatch(a)});for(var i=0;i<arr.length;i++)isObj(arr[i])&&dataview.bind(arr[i],arr.bindArr,arr);arr.push=function(){this.__chaning__=!0;var t=Array.prototype.push.apply(this,arguments),e=arguments[0];isObj(e)&&dataview.bind(e,this.bindArr,this);var a=this.indexOf(e);return this.__chaning__=!1,this.dispatch({type:"push",data:e,index:a,model:this}),t},arr.pop=function(){this.__chaning__=!0;var t=this.length-1,e=this[t];isObj(e)&&e.modelChangeListeners&&(e.modelChangeListeners=void 0);var a=Array.prototype.pop.apply(this);return this.__chaning__=!1,this.dispatch({type:"pop",data:e,index:t,model:this}),a},arr.shift=function(){this.__chaning__=!0;var t=this[0];isObj(t)&&t.modelChangeListeners&&(t.modelChangeListeners=void 0);var e=Array.prototype.shift.apply(this,arguments);return this.__chaning__=!1,this.dispatch({type:"shift",data:t,index:0,model:this}),e},arr.unshift=function(){this.__chaning__=!0;var t=Array.prototype.unshift.apply(this,arguments),e=arguments[0];isObj(e)&&dataview.bind(e,this.bindArr,this);var a=this.indexOf(e);return this.__chaning__=!1,this.dispatch({type:"unshift",data:e,index:a,model:this}),t},arr.splice=function(){this.__chaning__=!0;var t=Array.prototype.splice.apply(this,arguments);if(0!=this.length&&0!=t.length){var e=arguments[0],a=arguments[1];return t.forEach(function(t){isObj(t)&&t.modelChangeListeners&&(t.modelChangeListeners=void 0)}),this.__chaning__=!1,this.dispatch({type:"splice",data:t,index:e,size:a,model:this}),t}this.__chaning__=!1},arr.removeAt=function(t){this.__chaning__=!0;var e=Array.prototype.splice.apply(this,[t,1]);if(0!=this.length&&0!=e.length)return e.forEach(function(t){isObj(t)&&t.modelChangeListeners&&(t.modelChangeListeners=void 0)}),this.__chaning__=!1,this.dispatch({type:"removeAt",data:e,index:t}),e;this.__chaning__=!1};var parr=null;if(Proxy)for(var k in parr=new Proxy(arr,{set:function(t,e,a,i){return t[e]=a,isNaN(e)||("object"==typeof a&&dataview.bind(a,t.bindArr,t),t.__chaning__||t.dispatch({type:"update",data:a,index:e,model:t})),!0},get:function(t,e,a){return"__isProxy__"==e||("__target__"==e?t:t[e])}}),window)if(-1==["webkitStorageInfo"].indexOf(k)&&Array.isArray(window[k])&&window[k]==arr){eval(k+" = parr;");break}return parr},DataViewItem.prototype={_data:null,set data(t){if(this.isBind){if(this.type==ATTR_DATA_VIEW)dataview.bind(t,this.normalVarKeys,this),this._data=t;else if(this.type==ATTR_DATA_LIST){var e=dataview.bindList(t,this.normalVarKeys,this);this._data=e}this.refresh()}else this._data=t},get data(){return this._data}},DataViewItem.prototype.change=function(t){void 0===t&&(t={}),dataview.change(this.id,t)},DataViewItem.prototype.refresh=function(t){if(!this._changing)if(t&&this.type!=ATTR_DATA_VIEW)switch(t.type){case"update":this.update(t.index,t.data);break;case"push":this.append(t.data);break;case"unshift":this.prepend(t.data);break;case"pop":case"shift":case"removeAt":this.remove(t.index);break;case"splice":for(var e=t.index+t.size-1;e>=t.index;e--)this.remove(e);break;default:dataview.refresh(this.id,t)}else dataview.refresh(this.id,t)},DataViewItem.prototype.append=function(t){dataview.append(this.id,t)},DataViewItem.prototype.prepend=function(t){dataview.prepend(this.id,t)},DataViewItem.prototype.update=function(t,e){dataview.update(this.id,t,e)},DataViewItem.prototype.remove=function(t){dataview.remove(this.id,t)},DataViewItem.prototype.clear=function(){dataview.clear(this.id)},DataViewItem.prototype.blank=function(){dataview.blank(this.id)},DataViewItem.prototype.show=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].style.display=this._preStyleDisplay||"block"},DataViewItem.prototype.hide=function(){for(var t=0;t<this.elements.length;t++)this._preStyleDisplay=this.elements[t].style.display,this.elements[t].style.display="none"},DataViewItem.prototype.objToForm=function(t){dataview.objToForm(this.id,t)},DataViewItem.prototype.formToObj=function(){return dataview.formToObj(this.id)},DataViewItem.prototype.clearForm=function(){dataview.clearForm(this.id)},DataViewItem.prototype.form=function(t){return dataview.form(this.id,t)},document.addEventListener("DOMContentLoaded",_dvinit,!1),document.addEventListener("DOMNodeInserted",_dvinit,!1);var isIE=!!document.documentMode,dataview=new DataView,http=new HttpService;function HttpService(){this._timeout=15e3,this._isAsync=!0,this._resultType="json"}HttpService.prototype.createXHR=function(){var t=new XMLHttpRequest;return t.timeout=this._timeout,t},HttpService.prototype.addFunctions=function(a,i,r){a.onreadystatechange=function(t){try{if(t.target.readyState===XMLHttpRequest.DONE)if(200==t.target.status||0==t.target.status){var e=null;e="json"==this._resultType?JSON.parse(t.target.response):"xml"==this._resultType?t.target.responseXML:t.target.response,i&&i(e)}else console.error(t.target.message),r&&r(t.target.message,t.target)}catch(t){console.error(t),r&&r(t,a)}}},HttpService.prototype.get=function(t,e,a){var i=this.createXHR();this.addFunctions(i,e,a),i.open("GET",t,this._isAsync),i.send()},HttpService.prototype.post=function(t,e,a,i){var r=this.createXHR();this.addFunctions(r,a,i),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.open("POST",t,this._isAsync),r.send(e)};